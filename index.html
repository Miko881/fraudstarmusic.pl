<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8" />
  <title>Fraudstarmusic.pl</title>
  <link rel="icon" href="https://i1.sndcdn.com/avatars-ly6jbStEnZFx2mDu-W4chsQ-t200x200.jpg" type="image/jpg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    :root {
      --bg-main: #0f1014;
      --bg-elevated: #181920;
      --accent: #ff6f3c;
      --accent-soft: rgba(255, 111, 60, 0.2);
      --text-main: #f5f5f5;
      --text-muted: #a0a0b3;
      --border-subtle: #262735;
      --radius-lg: 16px;
      --radius-xl: 22px;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top left, #191b23, #05060a 55%);
      color: var(--text-main);
      height: 100vh;
      overflow: hidden;
    }

    .app {
      display: grid;
      grid-template-columns: 260px minmax(0, 1fr);
      grid-template-rows: minmax(0, 1fr) auto;
      grid-template-areas:
        "sidebar main"
        "player player";
      height: 100vh;
    }

    /* SIDEBAR */

    .sidebar {
      grid-area: sidebar;
      background: linear-gradient(180deg, #11121a, #090912);
      border-right: 1px solid var(--border-subtle);
      padding: 18px 18px 12px;
      display: flex;
      flex-direction: column;
      gap: 18px;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 700;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      font-size: 14px;
    }

    .logo-badge {
      width: 26px;
      height: 26px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 20%, #ffe29f, #ff6f3c 45%, #ff417d 85%);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 14px;
      color: #111;
      box-shadow: 0 0 18px rgba(255, 111, 60, 0.7);
      overflow: hidden;
    }

    .logo-badge img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 999px;
    }

    .sidebar-section-title {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--text-muted);
      margin-bottom: 6px;
    }

    .nav-list {
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .nav-item {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 14px;
      padding: 7px 9px;
      border-radius: 999px;
      color: var(--text-muted);
      cursor: pointer;
      transition: background 0.16s, color 0.16s, transform 0.1s;
    }

    .nav-item span.icon {
      width: 20px;
      display: inline-flex;
      justify-content: center;
    }

    .nav-item.active {
      background: var(--accent-soft);
      color: var(--accent);
    }

    .nav-item:hover {
      background: #202231;
      color: var(--text-main);
      transform: translateY(-1px);
    }

    .sidebar-scroll {
      flex: 1;
      overflow-y: auto;
      padding-right: 4px;
    }

    .playlist-pill {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 10px;
      border-radius: 999px;
      background: #14151f;
      border: 1px solid #232436;
      font-size: 12px;
      color: var(--text-muted);
      margin: 2px 4px 2px 0;
      cursor: pointer;
      transition: background 0.15s, border-color 0.15s, color 0.15s;
    }

    .playlist-pill:hover {
      background: #1b1c29;
      border-color: var(--accent);
      color: var(--text-main);
    }

    .sidebar-footer {
      font-size: 11px;
      color: var(--text-muted);
      opacity: 0.8;
    }

    /* MAIN AREA */

    .main {
      grid-area: main;
      padding: 14px 18px 80px;
      display: flex;
      flex-direction: column;
      gap: 18px;
      overflow: hidden;
    }

    .topbar {
      display: flex;
      gap: 14px;
      align-items: center;
    }

    .search {
      flex: 1;
      background: rgba(17, 18, 26, 0.9);
      border-radius: 999px;
      display: flex;
      align-items: center;
      padding: 6px 10px;
      border: 1px solid #252637;
      gap: 8px;
    }

    .search input {
      flex: 1;
      background: transparent;
      border: none;
      outline: none;
      color: var(--text-main);
      font-size: 14px;
    }

    .search-icon {
      font-size: 14px;
      color: var(--text-muted);
    }

    .chip-row {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
    }

    .chip {
      font-size: 12px;
      padding: 5px 10px;
      border-radius: 999px;
      border: 1px solid #262739;
      color: var(--text-muted);
      cursor: pointer;
      background: rgba(15, 16, 22, 0.9);
      transition: background 0.16s, color 0.16s, border-color 0.16s;
    }

    .chip.active {
      background: var(--accent-soft);
      border-color: var(--accent);
      color: var(--accent);
    }

    .chip:hover {
      background: #202231;
      color: var(--text-main);
    }

    .main-scroll {
      flex: 1;
      overflow-y: auto;
      padding-right: 4px;
    }

    .section-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 10px;
    }

    .section-header h2 {
      font-size: 18px;
    }

    .section-header small {
      font-size: 12px;
      color: var(--text-muted);
      cursor: pointer;
    }

    .section-header small:hover {
      text-decoration: underline;
    }

    .card-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(170px, 1fr));
      gap: 14px;
      margin-bottom: 18px;
    }

    .track-card {
      background: rgba(18, 19, 26, 0.96);
      border-radius: var(--radius-lg);
      padding: 9px;
      border: 1px solid transparent;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      gap: 6px;
      transition: transform 0.16s, box-shadow 0.16s, border-color 0.16s, background 0.16s;
      position: relative;
      overflow: hidden;
    }

    .track-thumb {
      border-radius: 12px;
      background: radial-gradient(circle at 10% 0, #ffe29f, #ff6f3c 35%, #ff417d 75%);
      aspect-ratio: 1;
      position: relative;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      background-size: cover;
      background-position: center;
      background-color: #111;
    }

    .track-thumb::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at 80% 120%, rgba(0, 0, 0, 0.45), transparent);
    }

    .track-badge {
      position: absolute;
      top: 8px;
      left: 8px;
      padding: 3px 7px;
      border-radius: 999px;
      font-size: 10px;
      text-transform: uppercase;
      letter-spacing: 0.12em;
      background: rgba(0, 0, 0, 0.7);
      color: #fff;
      z-index: 1;
    }

    .track-play {
      position: absolute;
      bottom: 8px;
      right: 8px;
      width: 32px;
      height: 32px;
      border-radius: 999px;
      background: rgba(0, 0, 0, 0.75);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      transform: translateY(8px);
      opacity: 0;
      transition: opacity 0.16s, transform 0.16s;
      z-index: 1;
    }

    .track-meta {
      display: flex;
      flex-direction: column;
      gap: 2px;
      margin-top: 4px;
    }

    .track-title {
      font-size: 14px;
      font-weight: 600;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
    }

    .track-artist {
      font-size: 12px;
      color: var(--text-muted);
    }

    .track-extra {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 11px;
      color: var(--text-muted);
      margin-top: 2px;
    }

    .track-card:hover {
      transform: translateY(-3px);
      border-color: var(--accent-soft);
      box-shadow: 0 14px 40px rgba(0, 0, 0, 0.6);
      background: rgba(22, 23, 33, 0.98);
    }

    .track-card:hover .track-play {
      opacity: 1;
      transform: translateY(0);
    }

    /* PLAYER */

    .player {
      grid-area: player;
      background: rgba(6, 7, 12, 0.96);
      border-top: 1px solid var(--border-subtle);
      padding: 8px 16px;
      display: grid;
      grid-template-columns: minmax(0, 2.2fr) minmax(0, 2fr) minmax(0, 1.2fr);
      gap: 16px;
      align-items: center;
      min-height: 72px;
    }

    .player-track-info {
      display: flex;
      align-items: center;
      gap: 10px;
      min-width: 0;
    }

    .player-thumb {
      width: 44px;
      height: 44px;
      border-radius: 12px;
      background: radial-gradient(circle at 6% 0, #ffe29f, #ff6f3c 30%, #ff417d 72%);
      background-size: cover;
      background-position: center;
      background-color: #111;
      overflow: hidden;
    }

    .player-meta {
      min-width: 0;
    }

    .player-title {
      font-size: 14px;
      font-weight: 600;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .player-artist {
      font-size: 12px;
      color: var(--text-muted);
    }

    .player-center {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
    }

    .player-controls {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 18px;
    }

    .player-btn {
      width: 28px;
      height: 28px;
      border-radius: 999px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: var(--text-muted);
      transition: background 0.14s, color 0.14s, transform 0.1s;
      border: none;
      background: transparent;
    }

    .player-btn:hover {
      background: #222438;
      color: var(--text-main);
      transform: translateY(-1px);
    }

    .player-btn.main {
      width: 34px;
      height: 34px;
      background: var(--accent);
      color: #111;
    }

    .player-btn.main:hover {
      background: #ff915e;
    }

    .player-timeline {
      display: flex;
      align-items: center;
      gap: 6px;
      width: 100%;
      font-size: 11px;
      color: var(--text-muted);
    }

    .player-progress {
      position: relative;
      flex: 1;
      height: 4px;
      border-radius: 999px;
      background: #232436;
      overflow: hidden;
      cursor: pointer;
    }

    .player-progress-fill {
      position: absolute;
      inset: 0;
      width: 0%;
      background: linear-gradient(90deg, #ff6f3c, #ff417d);
    }

    .player-right {
      display: flex;
      justify-content: flex-end;
      align-items: center;
      gap: 12px;
      font-size: 14px;
      color: var(--text-muted);
    }

    .player-toggle {
      cursor: pointer;
      transition: color 0.14s, transform 0.1s;
    }

    .player-toggle:hover {
      color: var(--text-main);
      transform: translateY(-1px);
    }

    .player-toggle.active {
      color: var(--accent);
    }

    .volume-bar {
      width: 80px;
      height: 4px;
      border-radius: 999px;
      background: #232436;
      overflow: hidden;
      position: relative;
      cursor: pointer;
    }

    .volume-bar-fill {
      position: absolute;
      inset: 0;
      width: 70%;
      background: linear-gradient(90deg, #ff6f3c, #ff417d);
    }

    /* SCROLLBAR */

    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background: #242535;
      border-radius: 999px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #303246;
    }

    /* RESPONSYWNO≈öƒÜ */

    @media (max-width: 900px) {
      .app {
        grid-template-columns: 70px minmax(0, 1fr);
      }

      .sidebar {
        padding-inline: 10px;
      }

      .sidebar-section-title,
      .playlist-pill,
      .sidebar-footer {
        display: none;
      }

      .nav-item span.label {
        display: none;
      }
    }

    @media (max-width: 720px) {
      body {
        overflow: auto;
        height: auto;
      }

      .app {
        grid-template-columns: minmax(0, 1fr);
        grid-template-rows: auto auto auto;
        grid-template-areas:
          "sidebar"
          "main"
          "player";
        height: auto;
      }

      .sidebar {
        flex-direction: row;
        align-items: center;
        justify-content: space-between;
        gap: 10px;
        padding-block: 10px;
      }

      .sidebar-scroll {
        display: none;
      }

      .main {
        padding-bottom: 90px;
        height: calc(100vh - 72px - 60px);
      }

      .player {
        grid-template-columns: minmax(0, 1fr);
        grid-auto-rows: auto;
        gap: 6px;
      }

      .player-right {
        justify-content: center;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="logo">
        <div class="logo-badge">
          <img src="https://i1.sndcdn.com/avatars-ly6jbStEnZFx2mDu-W4chsQ-t200x200.jpg" alt="logo fraudstarmusic.pl">
        </div>
        <div>Fraudstarmusic.pl</div>
      </div>

      <div class="sidebar-scroll">
        <div style="margin-bottom: 10px;">
          <div class="sidebar-section-title">przeglƒÖdaj</div>
          <ul class="nav-list">
            <li class="nav-item active">
              <span class="icon">üè†</span>
              <span class="label">Start</span>
            </li>
            <li class="nav-item">
              <span class="icon">üî•</span>
              <span class="label">Trendy</span>
            </li>
            <li class="nav-item">
              <span class="icon">üéß</span>
              <span class="label">Playlisty</span>
            </li>
            <li class="nav-item">
              <span class="icon">‚è±Ô∏è</span>
              <span class="label">Ostatnio s≈Çuchane</span>
            </li>
          </ul>
        </div>

        <div style="margin-bottom: 10px;">
          <div class="sidebar-section-title">twoja biblioteka</div>
          <div>
            <button class="playlist-pill">
              <span>üéµ</span> Ulubione Fraudy
            </button>
            <button class="playlist-pill">
              <span>üåô</span> Chill Fraudowanie
            </button>
            <button class="playlist-pill">
              <span>‚ö°</span> Trening Blika
            </button>
            <button class="playlist-pill">
              <span>üéÆ</span> Gaming fraudplay
            </button>
          </div>
        </div>
      </div>
    </aside>

    <!-- MAIN -->
    <main class="main">
      <div class="topbar">
        <div class="search">
          <span class="search-icon">üîç</span>
          <input id="searchInput" type="text" placeholder="Szukaj utworu, artysty, albumu..." />
        </div>
        <div class="chip-row">
          <button class="chip active" data-filter="all">Wszystko</button>
          <button class="chip" data-filter="Fraudy">Fraudy</button>
          <button class="chip" data-filter="BramkiPlay">BramkiPlay</button>
          <button class="chip" data-filter="Bliczki">Bliczki</button>
        </div>
      </div>

      <div class="main-scroll">
        <section>
          <div class="section-header">
            <h2>Dla Ciebie</h2>
            <small>Poka≈º wiƒôcej</small>
          </div>
          <div id="trackGrid" class="card-grid">
            <!-- karty generowane w JS -->
          </div>
        </section>

        <section>
          <div class="section-header">
            <h2>Twoje playlisty</h2>
            <small>Poka≈º wszystkie</small>
          </div>
          <div class="card-grid">
            <article class="track-card">
              <div class="track-thumb">
                <div class="track-badge">mix</div>
              </div>
              <div class="track-meta">
                <div class="track-title">Daily Mix ‚Äì Focus</div>
                <div class="track-artist">Lo-fi, chillhop, study beats</div>
              </div>
              <div class="track-extra">
                <span>1 h 45 min</span>
                <span>27 utwor√≥w</span>
              </div>
            </article>
            <article class="track-card">
              <div class="track-thumb">
                <div class="track-badge">playlist</div>
              </div>
              <div class="track-meta">
                <div class="track-title">Night Drive </div>
                <div class="track-artist">Synthwave / Retrowave</div>
              </div>
              <div class="track-extra">
                <span>2 h 10 min</span>
                <span>34 utwory</span>
              </div>
            </article>
            <article class="track-card">
              <div class="track-thumb">
                <div class="track-badge">playlist</div>
              </div>
              <div class="track-meta">
                <div class="track-title">Bass Boosted</div>
                <div class="track-artist">Trap, EDM, hardstyle</div>
              </div>
              <div class="track-extra">
                <span>58 min</span>
                <span>18 utwor√≥w</span>
              </div>
            </article>
          </div>
        </section>
      </div>
    </main>

    <!-- PLAYER -->
    <footer class="player">
      <div class="player-track-info">
        <div class="player-thumb" id="playerThumb"></div>
        <div class="player-meta">
          <div class="player-title" id="playerTitle">Wybierz utw√≥r z listy</div>
          <div class="player-artist" id="playerArtist">‚Äî</div>
        </div>
      </div>

      <div class="player-center">
        <div class="player-controls">
          <button class="player-btn" id="prevBtn" title="Poprzedni utw√≥r">‚èÆ</button>
          <button class="player-btn main" id="playToggle" title="Odtwarzaj / pauza">‚ñ∂</button>
          <button class="player-btn" id="nextBtn" title="Nastƒôpny utw√≥r">‚è≠</button>
        </div>
        <div class="player-timeline">
          <span id="timeCurrent">0:00</span>
          <div class="player-progress">
            <div class="player-progress-fill" id="progressFill"></div>
          </div>
          <span id="timeTotal">0:00</span>
        </div>
      </div>

      <div class="player-right">
        <span id="shuffleToggle" class="player-toggle" title="Tryb losowy">üîÄ</span>
        <span id="loopToggle" class="player-toggle" title="Powtarzanie">üîÅ</span>
        <div class="volume-bar" title="G≈Ço≈õno≈õƒá">
          <div class="volume-bar-fill" id="volumeFill"></div>
        </div>
      </div>

      <!-- audio -->
      <audio id="audioPlayer" preload="metadata"></audio>
    </footer>
  </div>

  <script>
    // TU UZUPE≈ÅNIASZ SWOJE UTWORY, SRC = lokalny plik MP3, COVER = link do JPG (np. z SoundCloud)
    const demoTracks = [
      {
        id: 1,
        title: "K X FRAUD.PL - REAL TALK [ INTRO ]",
        artist: "23FRAUD.PL",
        length: "1:00",
        plays: "21,4K",
        tag: "Fraudy",
        badge: "nowo≈õƒá",
        src: "audio/K_X_FRAUD.PL_-_REAL_TALK__INTRO_.mp3",
        cover: "https://i1.sndcdn.com/artworks-1FhPzDAJjgwym31m-EMYZhw-t500x500.png"
      },
      {
        id: 2,
        title: "FRAUD.PL FT. W2A BLANCIOR - CA≈ÅY ROK",
        artist: "23FRAUD.PL",
        length: "1:12",
        plays: "18,1K",
        tag: "Bliczki",
        badge: "bliczki",
        src: "audio/FRAUD.PL_FT._W2A_BLANCIOR_-_CAY_ROK.mp3",
        cover: "https://i1.sndcdn.com/artworks-1FhPzDAJjgwym31m-EMYZhw-t500x500.png"
      },
      {
        id: 3,
        title: "FRAUD.PL X SNEAKERBOI - CZAS",
        artist: "23FRAUD.PL",
        length: "1:11",
        plays: "9,8K",
        tag: "BramkiPlay",
        badge: "Brameczki",
        src: "audio/FRAUD.PL_X_SNEAKERBOI_-_CZAS.mp3",
        cover: "https://i1.sndcdn.com/artworks-1FhPzDAJjgwym31m-EMYZhw-t500x500.png"
      },
      {
        id: 4,
        title: "w2a slimgucci - w2a dzia≈Ça na powa≈ºnie",
        artist: "23FRAUD.PL",
        length: "1:24",
        plays: "31,7K",
        tag: "BramkiPlay",
        badge: "popularne",
        src: "audio/w2a_slimgucci_-_w2a_dziaa_na_powaznie.mp3",
        cover: "https://i1.sndcdn.com/artworks-Kwu2l7szwgwZn97L-Fm9cjA-t500x500.png"
      },
      {
        id: 5,
        title: "FRAUD.PL - NIGDY NIE ZGONUJE",
        artist: "23FRAUD.PL",
        length: "1:27",
        plays: "12,2K",
        tag: "Bliczki",
        badge: "Topka",
        src: "audio/FRAUD.PL_-_NIGDY_NIE_ZGONUJE.mp3",
        cover: "https://i1.sndcdn.com/artworks-kxIoqO1h3nyjJe5G-XPGl6w-t500x500.png"
      },
      {
        id: 6,
        title: "FRAUD.PL - GLO 2 [ PROD - BJFUCK12 ]",
        artist: "23FRAUD.PL",
        length: "1:08",
        plays: "7,6K",
        tag: "Fraudy",
        badge: "nowo≈õƒá",
        src: "audio/FRAUD.PL_-_GLO_2__PROD_-_BJFUCK12_.mp3",
        cover: "https://i1.sndcdn.com/artworks-tezayFCPriM8sXQi-RWVYzA-t500x500.png"
      }
    ];

    const trackGrid = document.getElementById("trackGrid");
    const searchInput = document.getElementById("searchInput");
    const chips = document.querySelectorAll(".chip");

    const audio = document.getElementById("audioPlayer");
    const timeCurrent = document.getElementById("timeCurrent");
    const timeTotal = document.getElementById("timeTotal");
    const progressBar = document.querySelector(".player-progress");
    const progressFill = document.getElementById("progressFill");

    const playerTitle = document.getElementById("playerTitle");
    const playerArtist = document.getElementById("playerArtist");
    const playerThumb = document.getElementById("playerThumb");

    const playToggle = document.getElementById("playToggle");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");

    const shuffleToggle = document.getElementById("shuffleToggle");
    const loopToggle = document.getElementById("loopToggle");
    const volumeBar = document.querySelector(".volume-bar");
    const volumeFill = document.getElementById("volumeFill");

    let currentFilter = "all";
    let currentSearch = "";
    let currentTrack = null;
    let isPlaying = false;
    let isShuffle = false;

    // Ustaw domy≈õlnƒÖ g≈Ço≈õno≈õƒá
    audio.volume = 0.7;

    function renderTracks() {
      trackGrid.innerHTML = "";
      const filtered = demoTracks.filter((t) => {
        const matchesFilter = currentFilter === "all" || t.tag === currentFilter;
        const term = currentSearch.toLowerCase();
        const matchesSearch =
          !term ||
          t.title.toLowerCase().includes(term) ||
          t.artist.toLowerCase().includes(term);
        return matchesFilter && matchesSearch;
      });

      filtered.forEach((track) => {
        const card = document.createElement("article");
        card.className = "track-card";
        card.dataset.trackId = track.id;

        card.innerHTML = `
          <div class="track-thumb" style="${track.cover ? `background-image:url('${track.cover}')` : ""}">
            <div class="track-badge">${track.badge}</div>
            <div class="track-play">‚ñ∂</div>
          </div>
          <div class="track-meta">
            <div class="track-title" title="${track.title}">${track.title}</div>
            <div class="track-artist">${track.artist}</div>
          </div>
          <div class="track-extra">
            <span>${track.length}</span>
            <span>${track.plays} ods≈Çuch√≥w</span>
          </div>
        `;

        card.addEventListener("click", () => {
          setCurrentTrack(track);
        });

        trackGrid.appendChild(card);
      });
    }

    function setCurrentTrack(track) {
      if (!track.src) {
        alert("Ten utw√≥r nie ma przypisanego pliku audio.");
        return;
      }

      currentTrack = track;
      playerTitle.textContent = track.title;
      playerArtist.textContent = track.artist;

      if (track.cover) {
        playerThumb.style.backgroundImage = `url('${track.cover}')`;
      } else {
        playerThumb.style.backgroundImage = "";
      }

      audio.src = track.src;
      audio.currentTime = 0;
      audio.play().catch(console.error);

      isPlaying = true;
      updatePlayButton();
    }

    function updatePlayButton() {
      playToggle.textContent = isPlaying ? "‚è∏" : "‚ñ∂";
    }

    function formatTime(seconds) {
      if (isNaN(seconds)) return "0:00";
      const mins = Math.floor(seconds / 60);
      const secs = Math.floor(seconds % 60);
      return `${mins}:${secs.toString().padStart(2, "0")}`;
    }

    // Play / pause
    playToggle.addEventListener("click", () => {
      if (!currentTrack || !audio.src) return;

      if (audio.paused) {
        audio.play().catch(console.error);
        isPlaying = true;
      } else {
        audio.pause();
        isPlaying = false;
      }
      updatePlayButton();
    });

    audio.addEventListener("play", () => {
      isPlaying = true;
      updatePlayButton();
    });

    audio.addEventListener("pause", () => {
      isPlaying = false;
      updatePlayButton();
    });

    // Zmiana czasu / progress
    audio.addEventListener("loadedmetadata", () => {
      timeTotal.textContent = formatTime(audio.duration);
    });

    audio.addEventListener("timeupdate", () => {
      if (!audio.duration) return;
      timeCurrent.textContent = formatTime(audio.currentTime);

      const percent = (audio.currentTime / audio.duration) * 100;
      progressFill.style.width = `${percent}%`;
    });

    progressBar.addEventListener("click", (event) => {
      if (!audio.duration) return;

      const rect = progressBar.getBoundingClientRect();
      const clickX = event.clientX - rect.left;
      const ratio = clickX / rect.width;

      audio.currentTime = ratio * audio.duration;
    });

    // Volume
    function setVolumeFromRatio(ratio) {
      const clamped = Math.max(0, Math.min(1, ratio));
      audio.volume = clamped;
      volumeFill.style.width = `${clamped * 100}%`;
    }

    volumeBar.addEventListener("click", (event) => {
      const rect = volumeBar.getBoundingClientRect();
      const clickX = event.clientX - rect.left;
      const ratio = clickX / rect.width;
      setVolumeFromRatio(ratio);
    });

    // Loop
    loopToggle.addEventListener("click", () => {
      audio.loop = !audio.loop;
      loopToggle.classList.toggle("active", audio.loop);
    });

    // Shuffle (na razie tylko flaga + kolor)
    shuffleToggle.addEventListener("click", () => {
      isShuffle = !isShuffle;
      shuffleToggle.classList.toggle("active", isShuffle);
    });

    // Next / Prev
    function playNextTrack() {
      if (!currentTrack) return;
      const currentIndex = demoTracks.findIndex(t => t.id === currentTrack.id);
      if (currentIndex === -1) return;

      let nextIndex;
      if (isShuffle) {
        const others = demoTracks.filter((_, idx) => idx !== currentIndex);
        const randomTrack = others[Math.floor(Math.random() * others.length)];
        setCurrentTrack(randomTrack);
        return;
      } else {
        nextIndex = (currentIndex + 1) % demoTracks.length;
      }
      setCurrentTrack(demoTracks[nextIndex]);
    }

    function playPrevTrack() {
      if (!currentTrack) return;
      const currentIndex = demoTracks.findIndex(t => t.id === currentTrack.id);
      if (currentIndex === -1) return;

      const prevIndex = (currentIndex - 1 + demoTracks.length) % demoTracks.length;
      setCurrentTrack(demoTracks[prevIndex]);
    }

    nextBtn.addEventListener("click", playNextTrack);
    prevBtn.addEventListener("click", playPrevTrack);

    audio.addEventListener("ended", () => {
      if (!audio.loop) {
        playNextTrack();
      }
    });

    // Szukanie
    searchInput.addEventListener("input", (e) => {
      currentSearch = e.target.value;
      renderTracks();
    });

    // Filtry
    chips.forEach((chip) => {
      chip.addEventListener("click", () => {
        chips.forEach((c) => c.classList.remove("active"));
        chip.classList.add("active");
        currentFilter = chip.dataset.filter;
        renderTracks();
      });
    });

    // Start
    renderTracks();
  </script>
</body>
</html>